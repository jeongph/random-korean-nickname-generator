<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>랜덤 닉네임 생성기</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Pretendard&display=swap');

    body {
      font-family: 'Pretendard', sans-serif;
      background-color: #0d1117;
      color: #c9d1d9;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
    }
    body.light {
      background-color: #fdfdfd;
      color: #1c1c1c;
    }
    .container {
      background-color: #161b22;
      padding: 2rem 2.5rem;
      border-radius: 1.2rem;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25);
      text-align: center;
      position: relative;
      width: 300px;
    }
    body.light .container {
      background-color: #ffffff;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
    }
    h1 {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }
    .nickname {
      font-size: 2.2rem;
      font-weight: 600;
      margin: 1.5rem 0;
      color: #58a6ff;
      word-break: keep-all;
    }
    .action-buttons {
      display: flex;
      justify-content: center;
      gap: 0.8rem;
    }
    .action-buttons button {
      padding: 0.6rem 1.2rem;
      border: none;
      border-radius: 0.6rem;
      background-color: #238636;
      color: white;
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    .action-buttons button:hover {
      background-color: #2ea043;
    }
    body.light .action-buttons button {
      background-color: #e4e4e4;
      color: #111;
    }
    body.light .action-buttons button:hover {
      background-color: #d1d1d1;
    }
    .copy-feedback {
      position: absolute;
      top: 105%;
      left: 50%;
      transform: translateX(-50%);
      background-color: #21262d;
      padding: 0.4rem 0.8rem;
      border-radius: 0.5rem;
      font-size: 0.85rem;
      color: #79c0ff;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
    }
    .copy-feedback.show {
      opacity: 1;
    }
    body.light .copy-feedback {
      background-color: #e8e8e8;
      color: #2a7ae2;
    }
    .mode-switch {
      position: absolute;
      top: 1rem;
      right: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .mode-switch input[type="checkbox"] {
      width: 40px;
      height: 20px;
      appearance: none;
      background: #444;
      border-radius: 20px;
      position: relative;
      outline: none;
      cursor: pointer;
    }
    .mode-switch input[type="checkbox"]:checked {
      background: #238636;
    }
    .mode-switch input[type="checkbox"]::before {
      content: "";
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: #fff;
      position: absolute;
      top: 2px;
      left: 2px;
      transition: 0.3s;
    }
    .mode-switch input[type="checkbox"]:checked::before {
      transform: translateX(20px);
    }
    .mode-switch label {
      font-size: 0.85rem;
    }
    .mode-select {
      margin-top: 1.5rem;
      display: flex;
      justify-content: center;
      gap: 1rem;
    }
    .mode-select label {
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 0.3rem;
      cursor: pointer;
    }
    .mode-select input[type="radio"] {
      accent-color: #58a6ff;
      cursor: pointer;
    }
    footer {
      margin-top: 2rem;
      font-size: 0.75rem;
      opacity: 0.5;
    }
  </style>
</head>
<body class="dark">
  <div class="mode-switch">
    <label for="modeToggle">다크모드</label>
    <input type="checkbox" id="modeToggle" checked onchange="toggleDarkMode()" />
  </div>
  <div class="container">
    <h1>랜덤 닉네임 생성기</h1>
    <div class="nickname" id="nickname">🍥</div>
    <div class="action-buttons">
      <button onclick="generateNickname()">새로 만들기</button>
      <button onclick="copyNickname()">복사하기</button>
    </div>
    <div id="copyFeedback" class="copy-feedback">복사 되었습니다!</div>
    <div class="mode-select">
      <label>
        <input type="radio" name="mode" value="meaningful" checked onchange="setMode('meaningful')" />
        의미 있는 닉네임
      </label>
      <label>
        <input type="radio" name="mode" value="syllable" onchange="setMode('syllable')" />
        무작위 음절 조합
      </label>
    </div>
    <footer>Made with ♥ by Jeongph</footer>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      let mode = "meaningful";

      const firstWords = ["푸른", "고요한", "따뜻한", "달콤한", "빛나는", "작은", "하늘", "노을", "햇살", "달빛"];
      const secondWords = ["별", "달", "바람", "강", "숲", "고래", "사슴", "꽃", "노래", "꿈"];

      function random(arr) {
        return arr[Math.floor(Math.random() * arr.length)];
      }

      function makeSyllable() {
        const choseong = ["ㄱ", "ㄲ", "ㄴ", "ㄷ", "ㄸ", "ㄹ", "ㅁ", "ㅂ", "ㅃ", "ㅅ", "ㅆ", "ㅇ", "ㅈ", "ㅉ", "ㅊ", "ㅋ", "ㅌ", "ㅍ", "ㅎ"];
        const jungseong = ["ㅏ", "ㅐ", "ㅑ", "ㅒ", "ㅓ", "ㅔ", "ㅕ", "ㅖ", "ㅗ", "ㅘ", "ㅙ", "ㅚ", "ㅛ", "ㅜ", "ㅝ", "ㅞ", "ㅟ", "ㅠ", "ㅡ", "ㅢ", "ㅣ"];
        const jongseong = ["", "ㄱ", "ㄲ", "ㄳ", "ㄴ", "ㄵ", "ㄶ", "ㄷ", "ㄹ", "ㄺ", "ㄻ", "ㄼ", "ㄽ", "ㄾ", "ㄿ", "ㅀ", "ㅁ", "ㅂ", "ㅄ", "ㅅ", "ㅆ", "ㅇ", "ㅈ", "ㅊ", "ㅋ", "ㅌ", "ㅍ", "ㅎ"];

        const choIndex = Math.floor(Math.random() * choseong.length);
        const jungIndex = Math.floor(Math.random() * jungseong.length);
        const jongIndex = Math.floor(Math.random() * jongseong.length);

        const unicode = 0xac00 + (choIndex * 21 + jungIndex) * 28 + jongIndex;
        if (unicode > 0xd7a3) return makeSyllable();
        return String.fromCharCode(unicode);
      }

      function generateNickname() {
        let nickname = "";
        if (mode === "meaningful") {
          nickname = random(firstWords) + random(secondWords);
        } else {
          const len = 2 + Math.floor(Math.random() * 2);
          for (let i = 0; i < len; i++) nickname += makeSyllable();
        }
        document.getElementById("nickname").textContent = nickname;
        document.getElementById("copyFeedback").classList.remove("show");
      }

      function setMode(m) {
        mode = m;
        generateNickname();
      }

      function toggleDarkMode() {
        const body = document.body;
        const isDark = body.classList.toggle("light");
        document.getElementById("modeToggle").checked = !isDark;
      }

      function copyNickname() {
        const text = document.getElementById("nickname").textContent;
        const tempInput = document.createElement("textarea");
        tempInput.value = text;
        document.body.appendChild(tempInput);
        tempInput.select();
        document.execCommand("copy");
        document.body.removeChild(tempInput);
        const feedback = document.getElementById("copyFeedback");
        feedback.classList.add("show");
        setTimeout(() => feedback.classList.remove("show"), 2000);
      }

      window.generateNickname = generateNickname;
      window.copyNickname = copyNickname;
      window.toggleDarkMode = toggleDarkMode;
      window.setMode = setMode;

      generateNickname();
    });
  </script>
</body>
</html>
